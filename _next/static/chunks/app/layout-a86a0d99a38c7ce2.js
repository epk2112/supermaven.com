(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{303:function(e,t,n){Promise.resolve().then(n.t.bind(n,2445,23)),Promise.resolve().then(n.bind(n,5717)),Promise.resolve().then(n.bind(n,1629)),Promise.resolve().then(n.bind(n,3293)),Promise.resolve().then(n.t.bind(n,6087,23))},5717:function(e,t,n){"use strict";n.r(t);var r=n(7437),i=n(2265),o=n(69),s=n(1878);let a=0;async function c(){let e=++a;for(;e===a;)l(),await u(1e3)}async function l(){window.location.href;let e=(0,s.Z)(),{data:t,error:n}=await e.auth.getSession();if(t.session)for(let e of(0,o.Mc)())"link_extension"===e.kind&&Date.now()-e.timestamp<18e5?(console.log("executing deferred action",e),(0,o.yv)(e).then(e=>{let{success:t,error:n}=e;t&&(window.location.href="/successful-link-extension")})):"checkout_session"===e.kind&&Date.now()-e.timestamp<18e5&&(console.log("executing deferred action",e),await (0,o.K9)(e))}let u=e=>new Promise(t=>setTimeout(t,e));t.default=()=>((0,i.useEffect)(()=>{c()},[]),(0,r.jsx)(r.Fragment,{}))},1629:function(e,t,n){"use strict";n.r(t);var r=n(7437);n(2265);var i=n(4033);t.default=e=>{let{isLoggedIn:t}=e,n=(0,i.useRouter)();return t?(0,r.jsx)("div",{className:"nav-item",children:(0,r.jsxs)("a",{href:"/account",children:[(0,r.jsx)("img",{src:"/account-base.svg",alt:"Account icon",className:"icon-base"}),(0,r.jsx)("img",{src:"/account-highlight.svg",alt:"Account icon",className:"icon-highlight"})]})}):(0,r.jsx)("div",{className:"nav-item",children:(0,r.jsx)("button",{onClick:()=>n.push("/login"),children:"Login"})})}},3293:function(e,t,n){"use strict";n.r(t);var r=n(7437);n(2265);var i=n(4033);t.default=e=>{let{displayText:t,href:n}=e,o=(0,i.useRouter)();return(0,r.jsx)("a",{href:n,onClick:e=>{e.preventDefault();let t=document.getElementById(n||"");t?window.scrollTo({top:t.offsetTop,behavior:"smooth"}):o.push("/".concat(n))},className:"nav-item plain-nav-item",children:(0,r.jsx)("div",{children:t})})}},69:function(e,t,n){"use strict";n.d(t,{K9:function(){return l},Mc:function(){return s},YK:function(){return o},yv:function(){return c}});var r=n(1878),i=n(6809);function o(e){let t=s();(t=t.filter(t=>t.kind!==e.kind)).push(e),localStorage.setItem("deferredActions",JSON.stringify(t))}function s(){return JSON.parse(localStorage.getItem("deferredActions")||"[]")}function a(e){let t=s();t=t.filter(t=>t.timestamp!==e.timestamp),localStorage.setItem("deferredActions",JSON.stringify(t))}async function c(e){let t=(0,r.Z)(),{data:n,error:i}=await t.auth.getSession();if(i)throw Error(i.message);if(!n.session)throw Error("Must be logged in to link extension");let o=JSON.stringify({linkId:e.linkId});console.log("Sending body",o);let s=await fetch("/api/activate",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),credentials:"same-origin",body:o}),c="",l="";try{l=await s.text(),c=JSON.parse(l).message}catch(e){c=s.status+": "+l}return(a(e),200===s.status)?{success:c,error:null}:{success:null,error:c}}async function l(e){console.log("executing checkout session action",e);let t=e.isMonthly,n=await fetch("/api/checkout-session",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),credentials:"same-origin",body:JSON.stringify({isMonthly:t})}),{sessionId:r}=await n.json(),o=await (0,i.Z)();a(e),null==o||o.redirectToCheckout({sessionId:r})}},6809:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return v}});var i="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var n=e[t];if(o.test(n.src))return n}return null},a=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},c=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.2.2",startTime:t})},l=null,u=null,d=null,f=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return c(r,n),r},m=Promise.resolve().then(function(){return null!==l?l:(l=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var n,r=s();r?r&&null!==d&&null!==u&&(r.removeEventListener("load",d),r.removeEventListener("error",u),null===(n=r.parentNode)||void 0===n||n.removeChild(r),r=a(null)):r=a(null),d=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},u=function(){t(Error("Failed to load Stripe.js"))},r.addEventListener("load",d),r.addEventListener("error",u)}catch(e){t(e);return}})).catch(function(e){return l=null,Promise.reject(e)})}),h=!1;m.catch(function(e){h||console.warn(e)});var p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];h=!0;var r=Date.now();return m.then(function(e){return f(e,t,r)})},v=()=>(r||(r=p("pk_live_51NxDB6IBwNQT3fMeXHmbDjPtV2B0yoziVxZ6Ct1jD6xUESI6L2KDzvwyCjP6oEmyYb8A0y0fTlFtOHFgZdUjm4LA00l9JxaQek")),r)},1878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7710);function i(){return(0,r.AY)("https://ymwhoubactbiyoryufxw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inltd2hvdWJhY3RiaXlvcnl1Znh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4NzU2ODMsImV4cCI6MjAyMDQ1MTY4M30.-4TNPYk553FRti5IdzSCoDLjPHSJMI1Ea8DOQJOf-yI")}},2445:function(){},6087:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}},4033:function(e,t,n){e.exports=n(5313)}},function(e){e.O(0,[615,971,938,744],function(){return e(e.s=303)}),_N_E=e.O()}]);